(self.webpackChunkkui_shell=self.webpackChunkkui_shell||[]).push([[6360],{95458:(n,e,t)=>{"use strict";t.r(e),t.d(e,{init:()=>a,preinit:()=>u});var o=t(82494),i=t(42341),d=t(7716),r=function(n,e,t,o){return new(t||(t=Promise))((function(i,d){function r(n){try{a(o.next(n))}catch(n){d(n)}}function c(n){try{a(o.throw(n))}catch(n){d(n)}}function a(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,c)}a((o=o.apply(n,e||[])).next())}))};const c=n=>(n.preventDefault(),!1);const a=()=>r(void 0,void 0,void 0,(function*(){const n=[];i.default.emit("/window/init"),document.addEventListener("dragover",c,!1),document.addEventListener("drop",c,!1),n.push(function(){return r(this,void 0,void 0,(function*(){const{extractSearchKey:n}=yield t.e(5119).then(t.bind(t,85119)),e=d.env.KUI_CONTEXT||"undefined"!=typeof window&&window.location&&window.location.search&&n("command-context");if(e)try{const n=JSON.parse(e),{setDefaultCommandContext:o}=yield Promise.resolve().then(t.bind(t,81933));return void o(n)}catch(n){console.error("Error parsing KUI_CONTEXT",n)}}))}()),window.addEventListener("beforeunload",(()=>{i.default.emit("/window/reload")})),n.push(t.e(5326).then(t.bind(t,85326)).then((n=>n.default()))),yield Promise.all(n)})),u=n=>r(void 0,void 0,void 0,(function*(){let e={};return document.body.classList.add(`os-${d.platform}`),n||(0,o._)()||(e=yield t.e(5516).then(t.bind(t,2145)).then((n=>n.preinit()))),e}))}}]);