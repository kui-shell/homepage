(self.webpackChunkkui_shell=self.webpackChunkkui_shell||[]).push([[5458],{5458:(n,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var e=o(19945),i=function(n,t,o,e){return new(o||(o=Promise))((function(i,s){function c(n){try{r(e.next(n))}catch(n){s(n)}}function a(n){try{r(e.throw(n))}catch(n){s(n)}}function r(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(c,a)}r((e=e.apply(n,t||[])).next())}))};var s=function(n,t,o,e){return new(o||(o=Promise))((function(i,s){function c(n){try{r(e.next(n))}catch(n){s(n)}}function a(n){try{r(e.throw(n))}catch(n){s(n)}}function r(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(c,a)}r((e=e.apply(n,t||[])).next())}))};function c(n){return s(this,void 0,void 0,(function*(){yield this.pexec(`odo project set ${this.encodeComponent(n)}`)}))}function a(n,t){if("json"!==n.parsedOptions.o&&(0,e.Ib)(t)){const o=JSON.parse(t.kuiRawData).items,i=o.findIndex((n=>n.status.active)),s={title:"Projects",nameColumnTitle:"PROJECT"};return(0,e.I$)(o,i,c.bind(n.REPL),s)||t}return t}function r(n){return s(this,void 0,void 0,(function*(){const t=yield function(n){return"json"!==n.parsedOptions.o&&(n.command+=" -o json",n.argv.push("-o"),n.argv.push("-json"),n.argvNoOptions.push("-o"),n.argvNoOptions.push("-json")),(0,e.d1)(n,void 0,"odo")}(n),o=JSON.parse(t);return Object.assign(o,{metadata:{name:n.command,namespace:yield(0,e.D_)(n)},modes:[],kuiRawData:t,isSimulacrum:!0,isKubeResource:!0,originatingCommand:n})}))}function u(n){return(0,e.A)(n,void 0,"odo",{verb:"catalog",entityType:"components"})}function d(n){return(0,e.A)(n,void 0,"odo",{verb:"catalog",entityType:"services"})}function l(n){return t=>(0,e.lN)(t)?(0,e.t$)("odo",t):n(t)}const p=n=>{(n=>{i(void 0,void 0,void 0,(function*(){n.listen(`/${e.zh}/_odo`,e.g8,Object.assign({},e.pb,{requiresLocal:!0}))}))})(n),n.listen(`/${e.zh}/odo/project/list`,l(r),Object.assign({},e.pb,{viewTransformer:a})),n.listen(`/${e.zh}/odo/catalog/list/components`,l(u),e.pb),n.listen(`/${e.zh}/odo/catalog/list/services`,l(d),e.pb)}}}]);