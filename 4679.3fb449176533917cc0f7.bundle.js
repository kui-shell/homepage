(self.webpackChunkkui_shell=self.webpackChunkkui_shell||[]).push([[4679],{84679:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>r});var i=o(51173),t=function(e,n,o,i){return new(o||(o=Promise))((function(t,c){function a(e){try{s(i.next(e))}catch(e){c(e)}}function r(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}s((i=i.apply(e,n||[])).next())}))};const c=(0,i.i18n)("plugin-core-support"),a={command:"confirm",strict:"confirm",example:"confirm [--asking <confirmation message>] <your-command-to-execute>",docs:"Confirmation Modal",optional:[{name:"--asking",docs:c("confirmationMessage")}],required:[{name:"command",docs:c("commandToBeExecuted")}]},r=e=>t(void 0,void 0,void 0,(function*(){e.listen("/confirm",(({tab:e,argvNoOptions:n,parsedOptions:o,execOptions:t,REPL:a})=>new Promise(((r,s)=>{const m=o.asking||c("areYouSure"),u=n[n.indexOf("confirm")+1],{execUUID:d}=t,f=`/kui-shell/Confirm/v1/tab/${(0,i.getPrimaryTabId)(e)}`,l=`${f}/execUUID/${d}/confirmed`;i.eventChannelUnsafe.once(l,(({confirmed:n})=>{n?t.type===i.ExecType.Nested?(0,i.pexecInCurrentTab)(u).then(r,s):a.qexec(u,void 0,void 0,{tab:e}).then(r,s):s(c("operationCancelled"))})),i.eventChannelUnsafe.emit(f,{command:u,asking:m,execUUID:d})}))),{usage:a,incognito:["popup"]})}))}}]);